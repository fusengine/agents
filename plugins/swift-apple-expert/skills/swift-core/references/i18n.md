---
name: i18n
description: Swift internationalization with String Catalogs, LocalizedStringResource, pluralization
when-to-use: writing ANY user-facing text, localizing apps, handling plurals, formatting dates/numbers
keywords: i18n, localization, String Catalog, LocalizedStringKey, pluralization, xcstrings
priority: high
related: testing.md
---

# Swift Internationalization (i18n)

## MANDATORY RULE

**ALL user-facing text MUST be localized.** Never hardcode strings.

## When to Use

- ANY text displayed to users
- Button labels, titles, messages
- Error messages and alerts
- Formatted dates, numbers, currency
- Pluralized strings

## Key Concepts

### String Catalogs (Xcode 15+)
Modern replacement for .strings files. Single `.xcstrings` file with JSON format.

**Key Points:**
- Xcode extracts strings automatically
- Built-in pluralization support
- Device variation support
- Visual editor in Xcode

### String(localized:) (Swift 5.7+)
Preferred API for Swift code localization.

**Key Points:**
- Compile-time key validation
- Comment for translators
- Bundle specification for packages

### LocalizedStringResource (Swift 5.9+)
Type-safe localization with static properties.

**Key Points:**
- Define keys as static properties
- Compile-time safety
- Reusable across codebase

### SwiftUI Text Localization
`Text("key")` with string literal IS localized. Variables are NOT.

**Key Points:**
- Literal strings: `Text("home.title")` - localized
- Variables: `Text(variable)` - NOT localized
- Use `LocalizedStringKey(variable)` for dynamic keys

### Pluralization
Automatic with String Catalogs when using string interpolation with numbers.

**Key Points:**
- `Text("You have \(count) items")` triggers plural rules
- Define variations: zero, one, two, few, many, other
- Language-specific rules applied automatically

### Date/Number Formatting
Use SwiftUI format styles - automatically localized.

**Key Points:**
- `Text(date, style: .date)`
- `Text(price, format: .currency(code: "EUR"))`
- `Text(count, format: .number)`

---

## Key Naming Convention

```
module.screen.element.property
```

Examples:
- `app.home.title`
- `auth.login.button.submit`
- `profile.settings.toggle.notifications`

---

## Best Practices

- ✅ Use String Catalogs (Xcode 15+)
- ✅ Add comments for translators
- ✅ Use format styles for dates/numbers
- ✅ Test with pseudo-localization
- ✅ Test RTL languages (Arabic, Hebrew)
- ✅ Specify bundle for Swift Packages
- ❌ NEVER hardcode user-facing strings
- ❌ Don't concatenate localized strings
- ❌ Don't assume English word order

---

## Testing Localization

Use Preview with different locales:
- English, French, German (length variations)
- Arabic (RTL layout)
- Japanese (character density)
- Dynamic Type (accessibility sizes)

→ See SwiftUI `.environment(\.locale, ...)` for preview testing
