# commit-pro

Professional git commits following [Conventional Commits](https://www.conventionalcommits.org/) standard with smart auto-detection and security validation.

## Features

- **Smart auto-detection agent** - Automatically analyzes changes and selects optimal commit type
- **Security validation** - Blocks commits containing secrets or credentials
- **Scope detection** - Extracts scope from modified directories
- **Best practices** - Enforces imperative mood, 50-char limit, proper formatting
- **Safety checks** - Prevents amending pushed commits
- **No AI signature** - Commits appear 100% human-written

## Installation

```bash
# From marketplace
/plugin marketplace add brunoazoulay/commit-pro
/plugin install commit-pro

# Or local testing
claude --plugin-dir ./commit-pro
```

## Commands

| Command | Description |
|---------|-------------|
| `/commit-pro:commit` | Smart commit with auto-detection |
| `/commit-pro:feat` | Quick feature commit |
| `/commit-pro:fix` | Quick bugfix commit |
| `/commit-pro:docs` | Documentation commit |
| `/commit-pro:refactor` | Refactoring commit |
| `/commit-pro:test` | Test commit |
| `/commit-pro:chore` | Maintenance commit |
| `/commit-pro:wip` | Work in progress (quick save) |
| `/commit-pro:amend` | Amend last commit (if not pushed) |
| `/commit-pro:undo` | Undo last commit (soft reset) |

## Smart Auto-Detection Agent

The plugin includes an intelligent agent that **automatically detects** the best commit type:

```bash
# Just say "commit" and the agent analyzes your changes
"commit my changes"
"save my work"
"git commit"
```

The agent will:
1. Analyze all modified files
2. Detect patterns (docs, tests, fixes, features...)
3. Select the optimal commit command
4. Execute with confirmation

**Detection rules:**

| Pattern | Auto-selected command |
|---------|----------------------|
| Only `.md` files | `/commit-pro:docs` |
| Only test files | `/commit-pro:test` |
| Bug fix keywords in diff | `/commit-pro:fix` |
| New files with logic | `/commit-pro:feat` |
| Config/deps only | `/commit-pro:chore` |

## Usage Examples

```bash
# Smart commit - analyzes changes and suggests type
/commit-pro:commit

# Quick feature with description
/commit-pro:feat add user authentication

# Quick fix
/commit-pro:fix resolve login redirect issue

# Documentation update
/commit-pro:docs update API reference

# Work in progress
/commit-pro:wip
```

## Commit Types

| Type | When to use |
|------|-------------|
| `feat` | New feature |
| `fix` | Bug fix |
| `docs` | Documentation only |
| `style` | Formatting (no logic change) |
| `refactor` | Code restructure |
| `perf` | Performance improvement |
| `test` | Adding/updating tests |
| `build` | Build system, dependencies |
| `ci` | CI/CD configuration |
| `chore` | Maintenance tasks |

## Security Features

The plugin automatically blocks commits containing:
- `.env` files
- Credentials (`password=`, `secret=`, `api_key=`)
- Private keys (`*.pem`, `*.key`)

And warns about:
- Debug statements (`console.log`, `debugger`)
- Large files (>1MB)
- TODO/FIXME comments

## No AI Signature

All commits created by this plugin are **100% clean** with no AI traces:
- No `Co-authored-by: Claude` or similar
- No `Generated by AI` mentions
- No automation footers or trailers
- Commits appear completely human-written

## Structured Output (Auto)

All commands automatically output structured feedback:

```text
ğŸ“Š Analysis
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Files changed: 3
Files staged: 3
Pattern detected: feature

ğŸ“ Proposed Commit
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
feat(auth): add JWT token refresh

âš¡ Ready to commit? [Y/N/E]

âœ… Committed successfully
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Hash: abc1234
Message: feat(auth): add JWT token refresh
```

## License

MIT
