---
name: 03.5-elicit
description: Expert agent self-reviews and self-corrects before sniper validation (APEX Phase L)
prev_step: references/03-execution.md
next_step: references/04-validation.md
---

# 03.5-elicit - Expert Self-Review

Expert agent self-reviews and self-corrects before sniper validation.

---

## Purpose

After coding (03-execution), the expert applies elicitation techniques to catch issues before sniper validation.

---

## Modes

| Mode | Flag | Behavior |
|------|------|----------|
| **Auto** | `--auto` (default) | Auto-select techniques based on code type |
| **Manual** | `--manual` | Present 5 techniques, user chooses |
| **Skip** | `--skip-elicit` | Skip directly to 04-validation |

---

## Workflow

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ELICIT (6 steps)                                       â”‚
â”‚                                                         â”‚
â”‚  Step 0: Init         â†’ Load context                   â”‚
â”‚  Step 1: Analyze      â†’ Detect code type               â”‚
â”‚  Step 2: Select       â†’ Choose techniques (or auto)    â”‚
â”‚  Step 3: Apply        â†’ Execute techniques             â”‚
â”‚  Step 4: Correct      â†’ Fix own issues                 â”‚
â”‚  Step 5: Report       â†’ Summary before sniper          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Auto-Detection Matrix

| Code Type | Auto-Selected Techniques |
|-----------|--------------------------|
| Auth/Security | SEC-01 (OWASP), SEC-02 (Input), SEC-03 (Auth) |
| API Endpoints | INT-01 (Contract), DOC-01 (API Docs), TEST-01 (Edge) |
| Database | PERF-01 (N+1), DATA-02 (Migration), CONC-06 (Transaction) |
| UI Components | UX-01 (a11y), TEST-01 (Edge), ARCH-04 (File Size) |
| Business Logic | ARCH-01 (SOLID), TEST-01 (Edge), CQ-01 (Review) |
| Refactoring | INT-02 (Backward), TEST-06 (Regression), ARCH-03 (Coupling) |

---

## Technique Categories (75 total)

| Category | Count | Key Techniques |
|----------|-------|----------------|
| Code Quality | 7 | Code review, Pattern detection, Complexity |
| Security | 7 | OWASP, Input validation, Auth flow |
| Performance | 6 | N+1 detection, Memory, Algorithm |
| Architecture | 6 | SOLID, Dependency, Coupling |
| Testing | 6 | Edge cases, Error paths, Boundary |
| Documentation | 6 | API docs, Type coverage, JSDoc |
| UX/a11y | 6 | Accessibility, Error messages, Loading |
| Data | 6 | Schema, Migration, Consistency |
| Concurrency | 6 | Race conditions, Deadlock, State |
| Integration | 7 | API contract, Backward compat, Breaking |
| Observability | 6 | Logging, Metrics, Error tracking |
| Maintainability | 6 | Readability, Style, Organization |

**Full catalog**: `skills/elicitation/references/techniques-catalog.md`

---

## Manual Mode Example

```text
Expert: "Code terminÃ©. Pour l'auto-review, je propose:"

1. SEC-01: OWASP Top 10 Check
2. ARCH-01: SOLID Compliance
3. TEST-01: Edge Case Analysis
4. PERF-01: N+1 Query Detection
5. DOC-03: JSDoc Coverage

Choix: [1-5] ou "all" ou "skip"

User: "1, 3"

Expert applies SEC-01, TEST-01 â†’ Fixes issues â†’ Reports
```

---

## Auto Mode Example

```text
Expert detects: Auth code with tokens

Auto-selects:
- SEC-01: OWASP Top 10 Check
- SEC-02: Input Validation
- SEC-03: Auth Flow Review

Expert applies silently â†’ Fixes issues â†’ Reports
```

---

## Output Format

```text
## ğŸŸ£ Elicitation Report

Mode: auto
Techniques Applied: 3
Issues Found: 2
Issues Fixed: 2

### Applied Techniques
1. SEC-01: OWASP â†’ 1 issue fixed
2. SEC-02: Input â†’ OK
3. SEC-03: Auth â†’ 1 issue fixed

### Corrections Made
- Added CSRF token validation
- Fixed token expiry handling

â†’ Ready for 04-validation (sniper)
```

---

## Benefits

- Expert catches own mistakes before sniper
- Faster sniper validation (less corrections)
- Knowledge retention (expert learns from self-review)

---

## Next Step

â†’ `04-validation.md`: sniper agent validates (should find minimal issues)
